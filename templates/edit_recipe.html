{% extends "base.html" %}
{% block content %}
  
    <div class="row">
      <div class="col s12 m8 offset-m2">
        <div class="card-panel">
          <!-- find out how to add all recipes added by that user -->
          <h3 class="center-align header-text">
            Edit Recipe
          </h3>
        </div>
      </div>
    </div>

      <div class="row card-panel">
        <form class="col s12" method="POST"
        action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" enctype="multipart/form-data">
          <!-- Name -->
          <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="far fa-plus-square prefix"></i>
              <input id="recipe_name" name="recipe_name" type="text" class="validate"
               value="{{ recipe.recipe_name }}" minlength="2" maxlength="40" required>
              <label for="recipe_name">Recipe Name</label>
            </div>
          </div>
          <!-- Description -->
          <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-info-circle prefix"></i>
              <input id="recipe_description" name="recipe_description" type="text" class="validate"
              value="{{ recipe.recipe_description }}" minlength="3" maxlength="200" required>
              <label for="recipe_description">Recipe Description</label>
            </div>
          </div>
            <!-- Time -->
            <div class="row">
              <div class="input-field col s12 m8 offset-m2">
              <i class="far fa-clock prefix"></i>
                <input 
                  id="recipe_time" 
                  name="recipe_time" 
                  minlength="1" 
                  maxlength="3"
                  value="{{ recipe.recipe_time }}" 
                  type="text" 
                  class="validate" 
                  required 
                />                               
                <label for="recipe_time">Time (mins)</label>
              </div>
            </div>
          <!-- Ingredients -->
            <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-list-ul prefix"></i>
              <textarea 
                id="recipe_ingredients" 
                name="recipe_ingredients" 
                type="text" class="materialize-textarea"
                cols="1"
                rows="15"  
                placeholder="Separate ingredients with commas" 
                required>
                {{- recipe.recipe_ingredients -}}
              </textarea>
              <label for="recipe_ingredients">Ingredients</label>
            </div>
          </div>
          <!-- Method -->
            <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-list-ol prefix"></i>
              <textarea id="recipe_method" name="recipe_method" type="text"
                minlength="3" maxlength="500" class="materialize-textarea"
                placeholder="Separate steps with commas" required>
                {{- recipe.recipe_method -}}
              </textarea>
              <label for="recipe_method">Recipe instructions</label>
            </div>
          </div>
          <!-- Image -->
           <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-camera-retro prefix"></i>
              <input 
                  id="recipe_image" 
                  name="recipe_image" 
                  type="url" 
                  value="{{ recipe.recipe_image }}"
                  class="validate"
                  minlength="3" 
                  maxlength="150" 
                  required
                >
                <label for="recipe_image">URL for recipe ending
                   <strong><em>.jpg, .jpeg</em></strong> or <strong><em>.png</em></strong> </label>
            </div>
          </div>
          <!-- Submit Button -->
          <div class="row center-align">
            <div class="col s12">
              <a href="{{ url_for('my_recipes', username=session['user']) }}" class="btn-large red text-shadow">
                Cancel<i class="fas fa-times-circle right"></i>
              </a>
                <button type="submit" class="btn-large blue lighten-1 text-shadow">
                  Edit <i class="fas fa-edit"></i>
                </button>
            </div>
          </div>
        </form>
      </div>

{% endblock %}