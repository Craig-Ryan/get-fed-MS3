{% extends "base.html" %}
{% block content %}
  
    <div class="row">
      <div class="col s12 m8 offset-m2">
        <div class="card-panel">
          <!-- find out how to add all recipes added by that user -->
          <h3 class="center-align header-text">
            Edit Recipe
          </h3>
        </div>
      </div>
    </div>

      <div class="row card-panel">
        <form class="col s12" method="POST"
        action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
          <!-- Name -->
          <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="far fa-plus-square prefix"></i>
              <input id="recipe_name" name="recipe_name" type="text" class="validate"
               value="{{ recipe.recipe_name }}" minlength="2" maxlength="40" required>
              <label for="recipe_name">Recipe Name</label>
            </div>
          </div>
          <!-- Description -->
          <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-info-circle prefix"></i>
              <input id="recipe_description" name="recipe_description" type="text" class="validate"
              value="{{ recipe.recipe_description }}" minlength="3" maxlength="200" required>
              <label for="recipe_description">Recipe Description</label>
            </div>
          </div>
            <!-- Time -->
            <div class="row">
              <div class="input-field col s12 m8 offset-m2">
              <i class="far fa-clock prefix"></i>
                <select id="time_name" name="time_name" class="validate" required> 
                  <option value="" disabled>Time to prepare</option>
                  {% for value, label in times %}
                    {% if value %}
                      <option value="{{ value }}" selected>{{ label }}</option>
                    {% else %}
                      <option value="{{ value }}">{{ label }}</option>
                    {% endif %}
                  {% endfor %}
                  <!-- {% for time in times %}
                    {% if time.time_name == time.time_name %}
                      <option value="{{ time.time_name }}" selected>{{ time.time_name }}</option>
                    {% else %}
                      <option value="{{ time.time_name }}">{{ time.time_name }}</option>
                    {% endif %}
                  {% endfor %} -->
                </select>
                <!-- <label for="time_name"></label> -->
              </div>
            </div>
          <!-- Ingredients -->
            <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-list-ul prefix"></i>
              <textarea id="recipe_ingredients" name="recipe_ingredients" type="text" class="materialize-textarea"
               minlength="3" maxlength="1500" placeholder="Separate ingredients with commas" required>
               {{- recipe.recipe_ingredients -}}
              </textarea>
              <label for="recipe_ingredients">Ingredients</label>
            </div>
          </div>
          <!-- Method -->
            <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-list-ol prefix"></i>
              <textarea id="recipe_method" name="recipe_method" type="text"
                minlength="3" maxlength="500" class="materialize-textarea"
                placeholder="Separate steps with commas" required>
                {{- recipe.recipe_method -}}
              </textarea>
              <label for="recipe_method">Recipe instructions</label>
            </div>
          </div>
          <!-- Image -->
           <div class="row">
            <div class="input-field col s12 m8 offset-m2">
              <i class="fas fa-camera-retro prefix"></i>
              <input id="recipe_image" name="recipe_image" type="text" class="validate"
                value="{{ recipe.recipe_image }}" minlength="3" maxlength="150" required>
              <label for="recipe_image">Add Image URL</label>
              <p class="lead">Image URLs must end in <em>.jpg, .jpeg </em> or <em>.png</em></p>  
            </div>
          </div>
          <!-- Submit Button -->
          <div class="row center-align">
            <div class="col s12">
              <a href="{{ url_for('my_recipes', username=session['user']) }}" class="btn-large red text-shadow">
                Cancel <i class="fas fa-times-circle right"></i>
              </a>
                <button type="submit" class="btn-large blue lighten-1 text-shadow">Edit <i class="fas fa-edit"></i></button>
            </div>
          </div>
        </form>
      </div>

{% endblock %}